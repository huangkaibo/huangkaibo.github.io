---
title: shell [] [[]] () (())
date: 2018-03-03
tags: [shell]
---

# 总结

所有的括号里, 小括号/中括号/大括号, 最特殊的是中括号, 小括号最没啥

[]别用了, 统统用[[]]

() 不常用

(()) 别用了

# 空格

首先运算符左右两侧必须空格(无论是-eq -lt系列还是 == <>系列)

然后只有括号和内容之间有区分要不要空格

需要空格: [] [[]]

不需空格: () (())

# 单中括号[]

* 逻辑运算符: 只能-a -o(不能&& ||)
* 字符串比较: 只能== !=(-eq -lt <>系列不行)
* 整数比较: == <> -eq -gt系列都可以

[]等同于test, 貌似就是调用test
 
# 双中括号[[]]

* 逻辑运算符: 只能&& || (不能用-a和-o)
* 字符串比较: ==<>系列 或者 -eq系列(-gt系列不行), 右边可以含通配符
* 整数比较: == <> -eq -gt系列都可以
 
可以说[[]]里面的语法和其他语言差不多

# []和[[]]比较

个人推荐完全使用[[]]

|比较项|[]|[[]]|
|--|--|--|
|逻辑关系符|只能-a -o|只能&& \|\||
|字符串比较|只能== !=(-eq -lt <>系列不行)|==<>系列 或者 -eq系列(-gt系列不行)|
|整数比较|== <> -eq -gt系列都可以|== <> -eq -gt系列都可以|
|文件判断(-e之类的)|可以|可以|

综上, []的东西[[]]都能做

最重要的是[[]]符合平常的语法(可以完全不使用-eq这种字符)

# 单括号()

目前看来就一个功能: 用来单开一个子shell运行内部命令

内部命令以;分割, 最后一个命令**可以**无需;

# 双括号(())

双括号本质是运用C规则进行内部运算

有两个作用

* 取代expr进行整数运算
* 变量省略$

$((1+1))进行整数运算(\*不用换成\\\*)

```bash
# 变量不用$了
# shell不支持<
# 但是(())内部是运用C规则, 所以支持
if ((i<5))

# 改成[[]]要写为
if [[ $i < 5 ]]
```

# ()和(())

两个基本都没用, 就()开子shell有用

$(())整数运算 推荐还是用expr和bc

也没必要为了省个$专门用(())

# 备注

以上都经过了验证, 但是用[[]]别用[]之类的规范是个人整理后总结的, 仅供参考

# 参考资料

[shell中各种括号的作用详解()、(())、[]、[[]]、{}](http://www.jb51.net/article/123081.htm)