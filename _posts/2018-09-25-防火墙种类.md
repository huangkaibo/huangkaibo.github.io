---
title: 防火墙种类
date: 2018-09-25
tags: [网络]
---

内容: 防火墙发展的三大类别

<!-- more -->

# 概述

```
应用层 --------应用网关防火墙
表示层
会话层
传输层 ---------状态监测防火墙
网络层 ---------包过滤防火墙、状态监测防火墙
数据链路层
物理层
```

防火墙有两大类

* 硬件防火墙: 专门的硬件设备来做防火墙, 可以从网络各层截获报文来处理
    1. 包过滤防火墙
    2. 状态监测防火墙
    3. 应用网关防火墙
* 软件防火墙: 一个软件而已, 仅能利用应用层的信息来防范

硬件防火墙三类向上兼容, 逐渐增强

# 包过滤防火墙

工作在网络层

根据包头的IP/端口等信息来进行过滤准入, 如iptables防火墙

我是个普通用户, 我有个包过滤防火墙, 如果我想访问一个网页, 我的防火墙里要有这两条规则

![](http://media.huangkaibo.cn/18-9-25/17041112.jpg)

第一条允许我访问网页的请求出去, 第二条允许网页的回复进来, 第二条目标端口是任意是因为访问网页我自己本地是随机开端口

# 状态监测防火墙

上面包过滤防火墙有个缺点, 第二条开放了自己1024-65535的端口, 危险性太大, 状态检测防火墙能解决这个问题, 如下

![](http://media.huangkaibo.cn/18-9-25/94851977.jpg)

只规则自己出去的访问网页请求, 网页的回复不加入规则

比如访问请求出去时, 最初是TCP的SYN请求,  防火墙记录一个会话, 记下此连接的源地址、源端口、目标地址、目标端口、连接时间等信息

接下来非SYN请求, 如ACK回复, 会去匹配记录的会话, 匹配上了直接放行, 端口也开放, 会话结束就关闭端口

# 参考资料

[我就是抄这里的, 浅谈状态检测防火墙的原理](http://www.docin.com/p-1537610427.html)

[状态防火墙和包过滤防火墙的区别是什么啊？](https://zhidao.baidu.com/question/4318687.html)

[硬件防火墙-这里有各类防火墙介绍](https://baike.baidu.com/item/%E7%A1%AC%E4%BB%B6%E9%98%B2%E7%81%AB%E5%A2%99/1024956?fr=aladdin)